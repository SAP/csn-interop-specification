<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-spec-v1/extensions/entity-relationship" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">@EntityRelationship | CSN Interop Specification</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sap.github.io/csn-interop-specification/spec-v1/extensions/entity-relationship"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="@EntityRelationship | CSN Interop Specification"><meta data-rh="true" name="description" content="@EntityRelationship annotations for cross boundary Entity-Relationship IDs and associations."><meta data-rh="true" property="og:description" content="@EntityRelationship annotations for cross boundary Entity-Relationship IDs and associations."><link data-rh="true" rel="icon" href="/csn-interop-specification/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sap.github.io/csn-interop-specification/spec-v1/extensions/entity-relationship"><link data-rh="true" rel="alternate" href="https://sap.github.io/csn-interop-specification/spec-v1/extensions/entity-relationship" hreflang="en"><link data-rh="true" rel="alternate" href="https://sap.github.io/csn-interop-specification/spec-v1/extensions/entity-relationship" hreflang="x-default"><script src="/csn-interop-specification/js/custom.js"></script><link rel="stylesheet" href="/csn-interop-specification/assets/css/styles.fe37a7d2.css">
<script src="/csn-interop-specification/assets/js/runtime~main.c36d3fa7.js" defer="defer"></script>
<script src="/csn-interop-specification/assets/js/main.e05f0fd6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/csn-interop-specification/"><div class="navbar__logo"><img src="/csn-interop-specification/img/logo.png#1" alt="CSN Interop Specification" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/csn-interop-specification/img/logo.png#1" alt="CSN Interop Specification" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/csn-interop-specification/">Overview</a><a class="navbar__item navbar__link" href="/csn-interop-specification/primer">Primer</a><a class="navbar__item navbar__link" href="/csn-interop-specification/spec-v1/csn-interop-effective">Interface Documentation</a><a class="navbar__item navbar__link" href="/csn-interop-specification/tools">Tools</a><a class="navbar__item navbar__link" href="/csn-interop-specification/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SAP/csn-interop-specification" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csn-interop-specification/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csn-interop-specification/primer">Primer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">CSN Interop Effective v1</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/csn-interop-effective">Interface Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/csn-interop-specification/spec-v1/examples">Examples</a><button aria-label="Expand sidebar category &#x27;Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/csn-interop-specification/spec-v1/extensions">Extensions</a><button aria-label="Collapse sidebar category &#x27;Extensions&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/aggregation">@Aggregation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/analytics-details">@AnalyticsDetails</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/consumption">@Consumption</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/end-user-text">@EndUserText</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/entity-relationship">@EntityRelationship</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/object-model">@ObjectModel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/odm">@ODM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/personal-data">@PersonalData</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/extensions/semantics">@Semantics</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csn-interop-specification/spec-v1/consumption">Consumption</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/csn-interop-specification/mappings">Mappings</a><button aria-label="Expand sidebar category &#x27;Mappings&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csn-interop-specification/tools">Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csn-interop-specification/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/csn-interop-specification/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CSN Interop Effective v1</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/csn-interop-specification/spec-v1/extensions"><span itemprop="name">Extensions</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">@EntityRelationship</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>@EntityRelationship</h1></header><blockquote>
<p><span class="feature-status-beta">BETA</span> This annotation is in <strong>beta state</strong>. Please give feedback if the annotations are correct and sufficient.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Modern business application suites handle thousands of different types of business data and consist of many applications or services.
Business data is heavily interconnected and dynamically evolves over time.</p>
<p>It is not possible to put all data together into a single API covering all relations between data. On the contrary, many smaller APIs are easier to develop and maintain.
As a consequence, many relations between different types of data go across different APIs.
Additionally, the same type of data can be offered by different APIs, either in different API versions, technologies, or even hosted by different technical systems and providers.</p>
<p>Therefore, independent concepts for types of data (so called <a href="#entity-type">entity types</a>) and for their identifiers (via so called <a href="#property-type">property types</a>) are needed, which can be used for the flexible definition of references and relations across the local boundary.</p>
<p>Jump to <a href="#concept-explanation">Concept Explanation</a> for more explanations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="schema-definitions">Schema Definitions<a href="#schema-definitions" class="hash-link" aria-label="Direct link to Schema Definitions" title="Direct link to Schema Definitions">​</a></h2>
<ul>
<li>This is an extension vocabulary for <a href="/csn-interop-specification/spec-v1/csn-interop-effective">CSN Interop Effective Document</a>.</li>
<li>The interface is available as JSON Schema: <a href="https://sap.github.io/csn-interop-specification/spec-v1/entity-relationship.schema.json#" target="_blank" rel="noopener noreferrer">entity-relationship.schema.json</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="annotations-overview">Annotations Overview<a href="#annotations-overview" class="hash-link" aria-label="Direct link to Annotations Overview" title="Direct link to Annotations Overview">​</a></h3>
<table><thead><tr><th>Annotation</th><th>Scope</th><th>Description</th></tr></thead><tbody><tr><td><a href="#entityrelationshipentitytype">@EntityRelationship.entityType</a></td><td>Entity</td><td>Defines which <a href="#entity-type">Entity Type</a> the current data object represents.<br><br>There could be several data objects that are assigned to the same Entity Type.<br>One data object can only have one Entity Type assigned, which corresponds to the applications own Entity Type definition.</td></tr><tr><td><a href="#entityrelationshippropertytype">@EntityRelationship.propertyType</a></td><td>Type</td><td>Defines the logical <a href="#property-type">Property Type</a> of a property.<br>The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</td></tr><tr><td><a href="#entityrelationshipentityids">@EntityRelationship.entityIds</a></td><td>Entity</td><td>Defines a list of IDs, which are available to look up the Entity Type or create a reference to it.<br>An Entity Type can have multiple IDs:<br>* There can be <strong>alternative IDs</strong> that can also be used to create a reference to the Entity Type<br>* Some ID properties form a <strong>composite ID</strong> together and need to be combined to function as a unique ID for references<br>* This is indicated by a <a href="#property-type"><code>propertyTypes</code></a> array with more than one Property Type ID entry.</td></tr><tr><td><a href="#entityrelationshipreference">@EntityRelationship.reference</a></td><td>Type</td><td>Defines references to other Entity Types based on a single ID.</td></tr><tr><td><a href="#entityrelationshipcompositereferences">@EntityRelationship.compositeReferences</a></td><td>Entity</td><td>Defines one or many references to other Entity Types based on a composite IDs.</td></tr><tr><td><a href="#entityrelationshiptemporalids">@EntityRelationship.temporalIds</a></td><td>Entity</td><td>Defines a list of temporal IDs</td></tr><tr><td><a href="#entityrelationshiptemporalreferences">@EntityRelationship.temporalReferences</a></td><td>Entity</td><td>Defines a list of temporal references</td></tr><tr><td><a href="#entityrelationshipreferenceswithconstantids">@EntityRelationship.referencesWithConstantIds</a></td><td>Entity</td><td>Defines one or many references to other Entity Types based on a composite IDs where some properties of the references are constant values.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshipentitytype">@EntityRelationship.entityType<a href="#entityrelationshipentitytype" class="hash-link" aria-label="Direct link to @EntityRelationship.entityType" title="Direct link to @EntityRelationship.entityType">​</a></h3>
<p>Defines which <a href="#entity-type">Entity Type</a> the current data object represents.</p>
<p>There could be several data objects that are assigned to the same Entity Type.
One data object can only have one Entity Type assigned, which corresponds to the applications own Entity Type definition.</p>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> string<br>
<strong>Regex Pattern</strong>: <code class="regex">^([a-z0-9-]+(?:[.][a-z0-9-]+)<em>):([a-zA-Z0-9._-]+)(<div>1-9</div>[0-9]</em>)?$</code></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-values">Example Values:<a href="#example-values" class="hash-link" aria-label="Direct link to Example Values:" title="Direct link to Example Values:">​</a></h6>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.sont:BillOfMaterial&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshippropertytype">@EntityRelationship.propertyType<a href="#entityrelationshippropertytype" class="hash-link" aria-label="Direct link to @EntityRelationship.propertyType" title="Direct link to @EntityRelationship.propertyType">​</a></h3>
<p>Defines the logical <a href="#property-type">Property Type</a> of a property.
The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</p>
<p><strong>Scope:</strong> Type<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#boolean-type">BooleanType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#string-type">StringType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#largestring-type">LargeStringType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer-type">IntegerType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer64-type">Integer64Type</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#decimal-type">DecimalType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#double-type">DoubleType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#date-type">DateType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#time-type">TimeType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#datetime-type">DateTimeType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#timestamp-type">TimestampType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#uuid-type">UUIDType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#association-type">AssociationType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#composition-type">CompositionType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#custom-type">CustomType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#type-definition">TypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#boolean-type-definition">BooleanTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#string-type-definition">StringTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#largestring-type-definition">LargeStringTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer-type-definition">IntegerTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer64-type-definition">Integer64TypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#decimal-type-definition">DecimalTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#double-type-definition">DoubleTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#date-type-definition">DateTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#time-type-definition">TimeTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#datetime-type-definition">DateTimeTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#timestamp-type-definition">TimestampTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#uuid-type-definition">UUIDTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#association-type-definition">AssociationTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#composition-type-definition">CompositionTypeDefinition</a><br>
<strong>Type:</strong> string<br>
<strong>Regex Pattern</strong>: <code class="regex">^([a-z0-9-]+(?:[.][a-z0-9-]+)<em>):([a-zA-Z0-9._-]+)(<div>1-9</div>[0-9]</em>)?$</code></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-values-1">Example Values:<a href="#example-values-1" class="hash-link" aria-label="Direct link to Example Values:" title="Direct link to Example Values:">​</a></h6>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BillOfMaterialUUID&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshipentityids">@EntityRelationship.entityIds<a href="#entityrelationshipentityids" class="hash-link" aria-label="Direct link to @EntityRelationship.entityIds" title="Direct link to @EntityRelationship.entityIds">​</a></h3>
<p>Defines a list of IDs, which are available to look up the Entity Type or create a reference to it.
An Entity Type can have multiple IDs:</p>
<ul>
<li>There can be <strong>alternative IDs</strong> that can also be used to create a reference to the Entity Type</li>
<li>Some ID properties form a <strong>composite ID</strong> together and need to be combined to function as a unique ID for references</li>
<li>This is indicated by a <a href="#property-type"><code>propertyTypes</code></a> array with more than one Property Type ID entry.</li>
</ul>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#entity-id">Entity ID</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshipreference">@EntityRelationship.reference<a href="#entityrelationshipreference" class="hash-link" aria-label="Direct link to @EntityRelationship.reference" title="Direct link to @EntityRelationship.reference">​</a></h3>
<p>Defines references to other Entity Types based on a single ID.</p>
<p><strong>Scope:</strong> Type<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#boolean-type">BooleanType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#string-type">StringType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#largestring-type">LargeStringType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer-type">IntegerType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer64-type">Integer64Type</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#decimal-type">DecimalType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#double-type">DoubleType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#date-type">DateType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#time-type">TimeType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#datetime-type">DateTimeType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#timestamp-type">TimestampType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#uuid-type">UUIDType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#association-type">AssociationType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#composition-type">CompositionType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#custom-type">CustomType</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#type-definition">TypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#boolean-type-definition">BooleanTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#string-type-definition">StringTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#largestring-type-definition">LargeStringTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer-type-definition">IntegerTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#integer64-type-definition">Integer64TypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#decimal-type-definition">DecimalTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#double-type-definition">DoubleTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#date-type-definition">DateTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#time-type-definition">TimeTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#datetime-type-definition">DateTimeTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#timestamp-type-definition">TimestampTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#uuid-type-definition">UUIDTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#association-type-definition">AssociationTypeDefinition</a>, <a href="/csn-interop-specification/spec-v1/csn-interop-effective#composition-type-definition">CompositionTypeDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#reference-target">Reference Target</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshipcompositereferences">@EntityRelationship.compositeReferences<a href="#entityrelationshipcompositereferences" class="hash-link" aria-label="Direct link to @EntityRelationship.compositeReferences" title="Direct link to @EntityRelationship.compositeReferences">​</a></h3>
<p>Defines one or many references to other Entity Types based on a composite IDs.</p>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#composite-reference">Composite Reference</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshiptemporalids">@EntityRelationship.temporalIds<a href="#entityrelationshiptemporalids" class="hash-link" aria-label="Direct link to @EntityRelationship.temporalIds" title="Direct link to @EntityRelationship.temporalIds">​</a></h3>
<p>Defines a list of temporal IDs</p>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#temporal-id">Temporal ID</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshiptemporalreferences">@EntityRelationship.temporalReferences<a href="#entityrelationshiptemporalreferences" class="hash-link" aria-label="Direct link to @EntityRelationship.temporalReferences" title="Direct link to @EntityRelationship.temporalReferences">​</a></h3>
<p>Defines a list of temporal references</p>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#temporal-reference">Temporal Reference</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entityrelationshipreferenceswithconstantids">@EntityRelationship.referencesWithConstantIds<a href="#entityrelationshipreferenceswithconstantids" class="hash-link" aria-label="Direct link to @EntityRelationship.referencesWithConstantIds" title="Direct link to @EntityRelationship.referencesWithConstantIds">​</a></h3>
<p>Defines one or many references to other Entity Types based on a composite IDs where some properties of the references are constant values.</p>
<p><strong>Scope:</strong> Entity<br>
<strong>Extending:</strong> <a href="/csn-interop-specification/spec-v1/csn-interop-effective#entity-definition">EntityDefinition</a><br>
<strong>Type:</strong> Array&lt;<a href="#reference-with-constant-id">Reference with Constant ID</a>&gt;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-target">Reference Target<a href="#reference-target" class="hash-link" aria-label="Direct link to Reference Target" title="Direct link to Reference Target">​</a></h3>
<p>Defines a reference to another Entity Type based on a single ID.</p>
<p><strong>Type</strong>: Object(<a href="#reference-target_name">name</a>, <a href="#reference-target_referencedentitytype">referencedEntityType</a>, <a href="#reference-target_referencedpropertytype">referencedPropertyType</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="reference-target_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#reference-target_name" title="@EntityRelationship.ReferenceTarget.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the reference.</div></td></tr><tr><td><div class="interface-property-name anchor" id="reference-target_referencedentitytype">referencedEntityType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#reference-target_referencedentitytype" title="@EntityRelationship.ReferenceTarget.referencedEntityType"></a></div></td><td><div class="interface-property-type"><a href="#entity-type-id">Entity Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#entity-type">Entity Type</a>.</div></td></tr><tr><td><div class="interface-property-name anchor" id="reference-target_referencedpropertytype">referencedPropertyType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#reference-target_referencedpropertytype" title="@EntityRelationship.ReferenceTarget.referencedPropertyType"></a></div></td><td><div class="interface-property-type"><a href="#property-type-id">Property Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#property-type">Property Type</a>. The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-id">Entity ID<a href="#entity-id" class="hash-link" aria-label="Direct link to Entity ID" title="Direct link to Entity ID">​</a></h3>
<p>Defines an ID that can be used to look up the Entity Type or create a reference to it.</p>
<p><strong>Type</strong>: Object(<a href="#entity-id_name">name</a>, <a href="#entity-id_description">description</a>, <a href="#entity-id_propertytypes">propertyTypes</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="entity-id_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#entity-id_name" title="@EntityRelationship.EntityId.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="entity-id_description">description<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#entity-id_description" title="@EntityRelationship.EntityId.description"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional description to describe the semantics of the ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="entity-id_propertytypes">propertyTypes<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#entity-id_propertytypes" title="@EntityRelationship.EntityId.propertyTypes"></a></div></td><td><div class="interface-property-type">Array&lt;<a href="#property-type-id">Property Type ID</a>&gt;</div></td><td><div class="interface-property-description">List of <a href="#property-type">Property Type</a> IDs.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="composite-reference">Composite Reference<a href="#composite-reference" class="hash-link" aria-label="Direct link to Composite Reference" title="Direct link to Composite Reference">​</a></h3>
<p>Defines single a reference to another Entity Type based on a composite ID.</p>
<p><strong>Type</strong>: Object(<a href="#composite-reference_name">name</a>, <a href="#composite-reference_referencedentitytype">referencedEntityType</a>, <a href="#composite-reference_referencedpropertytypes">referencedPropertyTypes</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="composite-reference_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#composite-reference_name" title="@EntityRelationship.CompositeReference.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the reference.</div></td></tr><tr><td><div class="interface-property-name anchor" id="composite-reference_referencedentitytype">referencedEntityType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#composite-reference_referencedentitytype" title="@EntityRelationship.CompositeReference.referencedEntityType"></a></div></td><td><div class="interface-property-type"><a href="#entity-type-id">Entity Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#entity-type">Entity Type</a>.</div></td></tr><tr><td><div class="interface-property-name anchor" id="composite-reference_referencedpropertytypes">referencedPropertyTypes<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#composite-reference_referencedpropertytypes" title="@EntityRelationship.CompositeReference.referencedPropertyTypes"></a></div></td><td><div class="interface-property-type">Array&lt;<a href="#referenced-property-type">Referenced Property Type</a>&gt;</div></td><td><div class="interface-property-description">List of properties, the composite ID consists of.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="referenced-property-type">Referenced Property Type<a href="#referenced-property-type" class="hash-link" aria-label="Direct link to Referenced Property Type" title="Direct link to Referenced Property Type">​</a></h3>
<p>Grouping of the ID in the referenced entity, by its property type ID and the local name in this entity.</p>
<p><strong>Type</strong>: Object(<a href="#referenced-property-type_referencedpropertytype">referencedPropertyType</a>, <a href="#referenced-property-type_localpropertyname">localPropertyName</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="referenced-property-type_referencedpropertytype">referencedPropertyType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#referenced-property-type_referencedpropertytype" title="@EntityRelationship.ReferenceTargetPropertyType.referencedPropertyType"></a></div></td><td><div class="interface-property-type"><a href="#property-type-id">Property Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#property-type">Property Type</a>. The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="referenced-property-type_localpropertyname">localPropertyName<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#referenced-property-type_localpropertyname" title="@EntityRelationship.ReferenceTargetPropertyType.localPropertyName"></a></div></td><td><div class="interface-property-type"><a href="#local-property-name">Local Property Name</a></div></td><td><div class="interface-property-description">Name of the property in the local Entity Type</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="temporal-id">Temporal ID<a href="#temporal-id" class="hash-link" aria-label="Direct link to Temporal ID" title="Direct link to Temporal ID">​</a></h3>
<p>Defines an ID that includes a temporal interval.</p>
<p><strong>Type</strong>: Object(<a href="#temporal-id_name">name</a>, <a href="#temporal-id_description">description</a>, <a href="#temporal-id_propertytypes">propertyTypes</a>, <a href="#temporal-id_temporalintervaltype">temporalIntervalType</a>, <a href="#temporal-id_temporaltype">temporalType</a>, <a href="#temporal-id_temporalintervalstartproperty">temporalIntervalStartProperty</a>, <a href="#temporal-id_temporalintervalendproperty">temporalIntervalEndProperty</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="temporal-id_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#temporal-id_name" title="@EntityRelationship.TemporalId.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_description">description<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#temporal-id_description" title="@EntityRelationship.TemporalId.description"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional description to describe the semantics of the ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_propertytypes">propertyTypes<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-id_propertytypes" title="@EntityRelationship.TemporalId.propertyTypes"></a></div></td><td><div class="interface-property-type">Array&lt;<a href="#property-type-id">Property Type ID</a>&gt;</div></td><td><div class="interface-property-description">List of <a href="#property-type">Property Type</a> IDs that are non-temporal.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_temporalintervaltype">temporalIntervalType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-id_temporalintervaltype" title="@EntityRelationship.TemporalId.temporalIntervalType"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Interval which includes the boundaries.<hr><strong>Allowed Values</strong>: <ul><li><p><code>&quot;CLOSED_CLOSED&quot;</code></p></li><li><p><code>&quot;OPEN_OPEN&quot;</code></p></li><li><p><code>&quot;OPEN_CLOSED&quot;</code></p></li><li><p><code>&quot;CLOSED_OPEN&quot;</code></p></li></ul><br><strong>Example Values</strong>: <ul class="examples"><li><code>&quot;CLOSED_CLOSED&quot;</code></li></ul></div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_temporaltype">temporalType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-id_temporaltype" title="@EntityRelationship.TemporalId.temporalType"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Temporal type.<hr><strong>Allowed Values</strong>: <ul><li><p><code>&quot;DATE&quot;</code></p></li><li><p><code>&quot;DATETIME&quot;</code></p></li></ul><br><strong>Example Values</strong>: <ul class="examples"><li><code>&quot;DATE&quot;</code></li></ul></div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_temporalintervalstartproperty">temporalIntervalStartProperty<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-id_temporalintervalstartproperty" title="@EntityRelationship.TemporalId.temporalIntervalStartProperty"></a></div></td><td><div class="interface-property-type"><a href="#local-property-name">Local Property Name</a></div></td><td><div class="interface-property-description">Property in the local entity that is used to define the start of the interval.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-id_temporalintervalendproperty">temporalIntervalEndProperty<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-id_temporalintervalendproperty" title="@EntityRelationship.TemporalId.temporalIntervalEndProperty"></a></div></td><td><div class="interface-property-type"><a href="#local-property-name">Local Property Name</a></div></td><td><div class="interface-property-description">Property in the local entity that is used to define the end of the interval.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="temporal-reference">Temporal Reference<a href="#temporal-reference" class="hash-link" aria-label="Direct link to Temporal Reference" title="Direct link to Temporal Reference">​</a></h3>
<p>Defines single temporal reference to another Entity Type.</p>
<p><strong>Type</strong>: Object(<a href="#temporal-reference_name">name</a>, <a href="#temporal-reference_referencedentitytype">referencedEntityType</a>, <a href="#temporal-reference_referencedpropertytypes">referencedPropertyTypes</a>, <a href="#temporal-reference_category">category</a>, <a href="#temporal-reference_selectiondateproperty">selectionDateProperty</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="temporal-reference_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#temporal-reference_name" title="@EntityRelationship.TemporalReference.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the reference.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-reference_referencedentitytype">referencedEntityType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-reference_referencedentitytype" title="@EntityRelationship.TemporalReference.referencedEntityType"></a></div></td><td><div class="interface-property-type"><a href="#entity-type-id">Entity Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#entity-type">Entity Type</a>.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-reference_referencedpropertytypes">referencedPropertyTypes<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-reference_referencedpropertytypes" title="@EntityRelationship.TemporalReference.referencedPropertyTypes"></a></div></td><td><div class="interface-property-type">Array&lt;<a href="#referenced-property-type">Referenced Property Type</a>&gt;</div></td><td><div class="interface-property-description">List of non-temporal properties the composite temporal ID consists of.</div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-reference_category">category<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-reference_category" title="@EntityRelationship.TemporalReference.category"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Category of the temporal reference.<hr><strong>Allowed Values</strong>: <ul><li><p><code>&quot;TEMPORAL_DATE&quot;</code></p></li></ul><br><strong>Example Values</strong>: <ul class="examples"><li><code>&quot;TEMPORAL_DATE&quot;</code></li></ul></div></td></tr><tr><td><div class="interface-property-name anchor" id="temporal-reference_selectiondateproperty">selectionDateProperty<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#temporal-reference_selectiondateproperty" title="@EntityRelationship.TemporalReference.selectionDateProperty"></a></div></td><td><div class="interface-property-type"><a href="#local-property-name">Local Property Name</a></div></td><td><div class="interface-property-description">Property in the local entity that is used to select the right date interval.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-with-constant-id">Reference with Constant ID<a href="#reference-with-constant-id" class="hash-link" aria-label="Direct link to Reference with Constant ID" title="Direct link to Reference with Constant ID">​</a></h3>
<p>Defines single a reference to another Entity Type based on a composite ID.</p>
<p><strong>Type</strong>: Object(<a href="#reference-with-constant-id_name">name</a>, <a href="#reference-with-constant-id_description">description</a>, <a href="#reference-with-constant-id_referencedentitytype">referencedEntityType</a>, <a href="#reference-with-constant-id_referencedpropertytypes">referencedPropertyTypes</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="reference-with-constant-id_name">name<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#reference-with-constant-id_name" title="@EntityRelationship.ReferenceTargetWithConstantId.name"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional name to describe the semantics of the reference.</div></td></tr><tr><td><div class="interface-property-name anchor" id="reference-with-constant-id_description">description<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#reference-with-constant-id_description" title="@EntityRelationship.ReferenceTargetWithConstantId.description"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">Optional description to describe the semantics of the reference.</div></td></tr><tr><td><div class="interface-property-name anchor" id="reference-with-constant-id_referencedentitytype">referencedEntityType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#reference-with-constant-id_referencedentitytype" title="@EntityRelationship.ReferenceTargetWithConstantId.referencedEntityType"></a></div></td><td><div class="interface-property-type"><a href="#entity-type-id">Entity Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#entity-type">Entity Type</a>.</div></td></tr><tr><td><div class="interface-property-name anchor" id="reference-with-constant-id_referencedpropertytypes">referencedPropertyTypes<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#reference-with-constant-id_referencedpropertytypes" title="@EntityRelationship.ReferenceTargetWithConstantId.referencedPropertyTypes"></a></div></td><td><div class="interface-property-type">Array&lt;<a href="#referenced-property-type-with-constant-id">Referenced Property Type with Constant ID</a>&gt;</div></td><td><div class="interface-property-description">List of properties, the composite ID consists of.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="referenced-property-type-with-constant-id">Referenced Property Type with Constant ID<a href="#referenced-property-type-with-constant-id" class="hash-link" aria-label="Direct link to Referenced Property Type with Constant ID" title="Direct link to Referenced Property Type with Constant ID">​</a></h3>
<p>Grouping  of the ID in the referenced entity, by its property type ID and either the local name in this entity or a constant value.</p>
<p><strong>Type</strong>: Object(<a href="#referenced-property-type-with-constant-id_referencedpropertytype">referencedPropertyType</a>, <a href="#referenced-property-type-with-constant-id_localpropertyname">localPropertyName</a>, <a href="#referenced-property-type-with-constant-id_constantvalue">constantValue</a>)</p>
<table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><div class="interface-property-name anchor" id="referenced-property-type-with-constant-id_referencedpropertytype">referencedPropertyType<br><span class="mandatory">MANDATORY</span><a class="hash-link" href="#referenced-property-type-with-constant-id_referencedpropertytype" title="@EntityRelationship.ReferenceTargetPropertyTypeWithConstantId.referencedPropertyType"></a></div></td><td><div class="interface-property-type"><a href="#property-type-id">Property Type ID</a></div></td><td><div class="interface-property-description">ID of the <a href="#property-type">Property Type</a>. The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</div></td></tr><tr><td><div class="interface-property-name anchor" id="referenced-property-type-with-constant-id_localpropertyname">localPropertyName<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#referenced-property-type-with-constant-id_localpropertyname" title="@EntityRelationship.ReferenceTargetPropertyTypeWithConstantId.localPropertyName"></a></div></td><td><div class="interface-property-type"><a href="#local-property-name">Local Property Name</a></div></td><td><div class="interface-property-description">Name of the property in the local Entity Type</div></td></tr><tr><td><div class="interface-property-name anchor" id="referenced-property-type-with-constant-id_constantvalue">constantValue<br><span class="optional">OPTIONAL</span><a class="hash-link" href="#referenced-property-type-with-constant-id_constantvalue" title="@EntityRelationship.ReferenceTargetPropertyTypeWithConstantId.constantValue"></a></div></td><td><div class="interface-property-type">string</div></td><td><div class="interface-property-description">String serialization of the constant value of the property in the referenced entity.</div></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="property-type-id">Property Type ID<a href="#property-type-id" class="hash-link" aria-label="Direct link to Property Type ID" title="Direct link to Property Type ID">​</a></h3>
<p>ID of the <a href="#property-type">Property Type</a>. The reason is to have an ID to relate to the property, especially to state that it can be used as an ID or is part of a composite ID.</p>
<p><strong>Type:</strong> string<br>
<strong>Regex Pattern</strong>: <code class="regex">^([a-z0-9-]+(?:[.][a-z0-9-]+)<em>):([a-zA-Z0-9._-]+)(<div>1-9</div>[0-9]</em>)?$</code></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-values-2">Example Values:<a href="#example-values-2" class="hash-link" aria-label="Direct link to Example Values:" title="Direct link to Example Values:">​</a></h6>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BillOfMaterialUUID&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-type-id">Entity Type ID<a href="#entity-type-id" class="hash-link" aria-label="Direct link to Entity Type ID" title="Direct link to Entity Type ID">​</a></h3>
<p>ID of the <a href="#entity-type">Entity Type</a>.</p>
<p><strong>Type:</strong> string<br>
<strong>Regex Pattern</strong>: <code class="regex">^([a-z0-9-]+(?:[.][a-z0-9-]+)<em>):([a-zA-Z0-9._-]+)(<div>1-9</div>[0-9]</em>)?$</code></p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example-values-3">Example Values:<a href="#example-values-3" class="hash-link" aria-label="Direct link to Example Values:" title="Direct link to Example Values:">​</a></h6>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.sont:BillOfMaterial&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-property-name">Local Property Name<a href="#local-property-name" class="hash-link" aria-label="Direct link to Local Property Name" title="Direct link to Local Property Name">​</a></h3>
<p>Name of the property in the local Entity Type</p>
<p><strong>Type:</strong> string</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="complete-examples">Complete Examples<a href="#complete-examples" class="hash-link" aria-label="Direct link to Complete Examples" title="Direct link to Complete Examples">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;csnInteropEffective&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;1.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;$version&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;2.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;definitions&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;BusinessPartner&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;kind&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;entity&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.entityType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.sont:BusinessPartner&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.entityIds&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;name&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Semantic ID (composite ID)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;propertyTypes&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerNumber&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerType&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;name&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;UUID (single property ID)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;propertyTypes&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerUUID&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;elements&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;number&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.propertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerNumber&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;key&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.Integer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.propertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerType&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;key&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.String&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;uuid&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.propertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerUUID&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.UUID&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;csnInteropEffective&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;1.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;$version&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;2.0&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;definitions&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;PurchaseOrder&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;kind&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;entity&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.compositeReferences&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;name&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Main Supplier&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedEntityType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.sont:BusinessPartner&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedPropertyTypes&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedPropertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerNumber&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;localPropertyName&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;mainSupplierNumber&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedPropertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerType&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;localPropertyName&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;mainSupplierType&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;elements&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;mainSupplierNumber&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.Integer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;mainSupplierType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.propertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerType&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.String&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;alternativeSupplierUUID&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;@EntityRelationship.reference&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedEntityType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.sont:BusinessPartner&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;referencedPropertyType&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:BusinessPartnerUUID&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token string-property property" style="color:rgb(128, 203, 196)">&quot;type&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cds.UUID&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="concept-explanation">Concept Explanation<a href="#concept-explanation" class="hash-link" aria-label="Direct link to Concept Explanation" title="Direct link to Concept Explanation">​</a></h2>
<p>The purpose of <code>@EntityRelationship</code> annotations is to document the Entity Relationship model that goes beyond CSN native associations.
With the annotations its possible to describe &quot;dangling references&quot; and associations to entities outside of the current API / data model context including those provided by different products and technology stacks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem-statement">Problem Statement<a href="#problem-statement" class="hash-link" aria-label="Direct link to Problem Statement" title="Direct link to Problem Statement">​</a></h3>
<p>While CSN can express associations and references with the same CSN document, we also need to describe:</p>
<ul>
<li>References across documents / APIs</li>
<li>References across different API versions and Protocols</li>
<li>References across different tenants</li>
<li>References across different types of applications / services</li>
<li>&quot;Weak&quot; References, where the target may or may not yet be available for joining data</li>
</ul>
<p>As a consequence, the Entity Relationship annotation concept is built on the following design decisions:</p>
<ul>
<li>Reference pointers must not rely on physical API model structure, e.g. property names or document structure.</li>
<li>Instead we introduce the more abstract and decoupled <a href="#entity-type">Entity Types</a> and <a href="#property-type">Property Types</a>.</li>
<li>IDs for Entity Types and Property Types are namespaced, so they are globally unique and conflict free for references across boundaries</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="out-of-scope">Out of Scope<a href="#out-of-scope" class="hash-link" aria-label="Direct link to Out of Scope" title="Direct link to Out of Scope">​</a></h3>
<ul>
<li>The annotations only express references that target unique IDs.<!-- -->
<ul>
<li>This concept is not meant to replace a more complex query model how data can be joined together in various (often more complex) conditions. E.g., some properties can act as a selector for filter conditions / query conditions that return multiple values.
They could be seen as a special case of association and are always &quot;to many&quot; associations. We don&#x27;t cover them in this concept here, because they don&#x27;t contain actual unique IDs to instance data. Instead they describe filter values that may even require more complex query conditions in advanced use cases. This also includes <code>SELECT *</code> cases, where the reference value is actually a wildcard / select all. Such references without uniques are not in scope of this concept.</li>
</ul>
</li>
<li>The annotations just express the local/application specific ER model.<!-- -->
<ul>
<li>They are no substitute for globally aligned annotations like ODM or semantic vocabularies, which can be added as complementary on top.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="glossary">Glossary<a href="#glossary" class="hash-link" aria-label="Direct link to Glossary" title="Direct link to Glossary">​</a></h3>
<ul>
<li><strong>Entity Type</strong>: An entity type represents a conceptual entity on type-level / class-level. It&#x27;s conceptual, because the same entity type can have multiple different physical models / representations.</li>
<li><strong>Property Type</strong>: A Property Type is a logical ID for a property, so we can reference it without relying on property names or structure of the API data model. Property Types may be used as unique IDs in itself or be part of a composite ID, which can be used to identify instance data of an entity type.</li>
<li><strong>Composite ID</strong>: An ID consisting of several properties that only together form a unique ID. Aka Compound ID.</li>
<li><strong>Reference</strong>: A reference is an association from one entity type to another. A reference consists of one or multiple properties that follow the Property Types of the target entity type.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-concepts">ID Concepts<a href="#id-concepts" class="hash-link" aria-label="Direct link to ID Concepts" title="Direct link to ID Concepts">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entity-type">Entity Type<a href="#entity-type" class="hash-link" aria-label="Direct link to Entity Type" title="Direct link to Entity Type">​</a></h4>
<p>Entity Types represent &quot;conceptual models&quot; that underlie the (often denormalized) concrete API Models.
For a full description, see <a href="https://open-resource-discovery.github.io/specification/spec-v1/concepts/grouping-and-bundling#entity-type" target="_blank" rel="noopener noreferrer">ORD Entity Type</a>.</p>
<p>The ID scheme for an Entity Type ID is as following:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">entityTypeId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> := </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">namespace</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">:</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">entityTypeLocalId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">[:v</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">majorVersion</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Complete <code>&lt;entityTypeId&gt;</code> MUST match the regexp <code>^([a-z0-9-]+(?:[.][a-z0-9-]+)*):([a-zA-Z0-9._\-]+)(:v[1-9][0-9]*)?$</code></p>
</li>
<li>
<p>The <code>&lt;namespace&gt;</code> part MUST be a valid <a href="https://open-resource-discovery.github.io/specification/spec-v1/#namespaces" target="_blank" rel="noopener noreferrer">ORD namespace</a>.</p>
</li>
<li>
<p>The <code>&lt;entityTypeLocalId&gt;</code> part MUST match the regexp <code>^[a-zA-Z0-9._\-]+$</code> and follows the ORD ID <code>&lt;resourceName&gt;</code> constraints:</p>
<ul>
<li>MUST be unique within the <code>&lt;namespace&gt;</code>.</li>
<li>SHOULD be a (somewhat) human readable and SEO/URL friendly string (avoid UUIDs).</li>
</ul>
</li>
<li>
<p>The <code>&lt;majorVersion&gt;</code> MUST only be provided if the major version is above v1. For v1 it MUST be omitted.</p>
</li>
</ul>
<p>In many cases Entity Types are not versioned. To ease handling and avoiding ambiguity, we forbid adding <code>v1</code> and therefore made <code>v1</code> the default.
If for the case of having a <code>v2</code> or higher of an Entity Type, the version must be added.</p>
<p>Ideally the application specific Entity Types are described as ORD Entity Types, so we have at least a globally unique ORD ID and the title for it available.
Then it’s clear what Entity Type ID others should use for cross application references.
With the outlined pattern, we can convert an Entity Type ID to a globally unique <a href="https://sap.github.io/open-resource-discovery/spec-v1/#ord-id" target="_blank" rel="noopener noreferrer">ORD ID</a> and vice versa:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">ordId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> := </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">namespace</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">:entityType:</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">entityTypeLocalId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">:v</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">majorVersion</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="property-type">Property Type<a href="#property-type" class="hash-link" aria-label="Direct link to Property Type" title="Direct link to Property Type">​</a></h4>
<p>An Entity Type and its API models may have multiple IDs that can be used to create references to it.
Usually there is a primary ID (which may be also the primary key in the database) and optionally multiple alternative IDs / keys.
Primary or alternative IDs may be a composite ID and consist of multiple property values that only together form a unique ID.</p>
<p>To point out, which properties are used to hold an ID, we introduce Property Types.
A Property Type is independent from the actual API / data structure, e.g. the property names.
The same property type can therefore be reused in multiple entity types in different APIs, even with different property names and structural differences.</p>
<p>A <a href="#property-type-id">Property Type ID</a> follows the same format and considerations as the Entity Type ID explained above:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">PropertyTypeId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> := </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">namespace</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">:</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">propertyTypeLocalId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">[:v</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">majorVersion</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Complete <code>&lt;PropertyTypeId&gt;</code> MUST match the regexp <code>^([a-z0-9-]+(?:[.][a-z0-9-]+)*):([a-zA-Z0-9._\-]+)(:v[1-9][0-9]*)?$</code></p>
</li>
<li>
<p>The <code>&lt;namespace&gt;</code> part MUST be a valid <a href="https://open-resource-discovery.github.io/specification/spec-v1/#namespaces" target="_blank" rel="noopener noreferrer">ORD namespace</a>.</p>
</li>
<li>
<p>The <code>&lt;propertyTypeLocalId&gt;</code> part MUST match the regexp <code>^[a-zA-Z0-9._\-]+$</code> and follows the ORD ID <code>&lt;resourceName&gt;</code> constraints:</p>
<ul>
<li>MUST be unique within the <code>&lt;namespace&gt;</code>.</li>
<li>SHOULD be a (somewhat) human readable and SEO/URL friendly string (avoid UUIDs).</li>
</ul>
</li>
<li>
<p>The <code>&lt;majorVersion&gt;</code> MUST only be provided if the major version is above v1. For v1 it MUST be omitted.</p>
</li>
</ul>
<p>The same Property Type MUST NOT be defined more than once in the same Entity Type.
However, the same Property Type MAY be part of multiple references within the same Entity Type.</p>
<p>For describing references, it is sufficient to only annotate <code>@EntityRelationship.propertyType</code> on properties that are used as IDs (by itself, or by being part of a composite ID).</p>
<blockquote>
<p>🙋 Why do we not just use the property name where we&#x27;ll find the ID?
The reason is that ID properties can get renamed, ID schemes get changed or the structure of an API changes.
All of that are incompatible API changes, but the goal of this reference concept is to work agnostic of API versions and even different API protocols.
With the Property Type concept, we define the references purely on a conceptual level and are not coupled to the actual API / JSON structure and stable property names.</p>
</blockquote>
<blockquote>
<p>🔭 We <em>may</em> consider describing the IDs of Entity Types (and their property-types) on ORD level as well, attached to an ORD Entity Type.
This would be optional and for the ID / Reference concept to work it is only important that the Entity Type and Property Type IDs are used consistently and conflict-free within their namespace.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-use-cases">Standard Use Cases<a href="#standard-use-cases" class="hash-link" aria-label="Direct link to Standard Use Cases" title="Direct link to Standard Use Cases">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-single-property-ids">Declaring Single Property IDs<a href="#declaring-single-property-ids" class="hash-link" aria-label="Direct link to Declaring Single Property IDs" title="Direct link to Declaring Single Property IDs">​</a></h4>
<p>The following example shows a single ID in &#x27;@EntityRelationship.entityIds&#x27; that can be used to identify the Entity Type. It consists of a single property (<code>ObjectID</code>), identified through its <a href="#property-type">Property Type ID</a> <code>sap.vdm.gfn:BillOfMaterialObjectID</code>.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:BillOfMaterial&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;optional name for ID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BillOfMaterialObjectID&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">BillOfMaterial</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BillOfMaterialObjectID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  key </span><span class="token maybe-class-name">ObjectID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-composite-ids">Declaring Composite IDs<a href="#declaring-composite-ids" class="hash-link" aria-label="Direct link to Declaring Composite IDs" title="Direct link to Declaring Composite IDs">​</a></h4>
<p>In case of composite IDs, the same concept is used, with the difference that <code>propertyTypes</code> has more than one value.</p>
<p>In the following example, the annotation is used to indicate which Property Types (<code>sap.vdm.gfn:BusinessPartnerNumber</code> and <code>sap.vdm.gfn:BusinessPartnerType</code>) of the Entity Type (<code>sap.vdm.sont:BusinessPartner</code>) form a composite ID together:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:BusinessPartner&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Semantic ID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerNumber&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerType&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;UUID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerUUID&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">BusinessPartner</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerNumber&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  key number </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Integer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerType&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  key type </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerUUID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">uuid</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">UUID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is also possible that the same Property Type is part of multiple (composite) IDs.
For example, a person can be identified by either <code>country</code> and <code>driversLicenseNumber</code> or <code>country</code> and <code>socialSecurityNumber</code>.
There is no guarantee that drivers license numbers or social security numbers are unique across countries.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-single-ids">Referencing single IDs<a href="#referencing-single-ids" class="hash-link" aria-label="Direct link to Referencing single IDs" title="Direct link to Referencing single IDs">​</a></h4>
<p>For <strong>simple references to single property IDs</strong> we need to state the target Entity Type and the Property Type of the target property that is used as the unique ID.</p>
<p>The <code>referencedEntityType</code> and <code>referencedPropertyType</code> together ensure that the reference:</p>
<ul>
<li>States what Entity Type is the target of the reference / association.</li>
<li>Which Property Type of the target Entity Type is used as an ID value in the reference.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:BillOfMaterial&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">BillOfMaterial</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">reference</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:Plant&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:PlantObjectID&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">Plant</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With the given information, we can look for a <code>sap.vdm.sont:Plant</code> Entity Type (e.g. in different APIs) and see if it has the Property Type <code>sap.vdm.gfn:PlantObjectID</code> in its list of IDs (<code>@EntityRelationship.entityIds</code>).
If this is given, we can merge / join / lookup the information with the reference value (ID) given in the property.</p>
<p>The annotation is an array because there could be multiple Entity Types that are valid targets for the reference.
If an array is given, all of the reference targets MUST be valid places where the ID can be resolved, at least in a certain implementation or version of the target entity.
This also allows for references to polymorphic targets that share the same Property Type as an ID (e.g. a reference to either Cat or Dog, sharing the same Pet ID).</p>
<blockquote>
<p>🚧 Consideration: Provide optional attribute to state that a reference has a &quot;composition&quot; quality, in case that the API Model itself doesn&#x27;t imply that already.
This would help to know which entity type instances should be deleted if their parent is deleted and is usually also an indicator for transactional integrity.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-composite-ids">Referencing Composite IDs<a href="#referencing-composite-ids" class="hash-link" aria-label="Direct link to Referencing Composite IDs" title="Direct link to Referencing Composite IDs">​</a></h4>
<p>When we have references that use a composite ID that consists of several Property Types, we also need to indicate their grouping.
We do this by introducing a new annotation <code>@EntityRelationship.compositeReferences</code>.
Each entry indicates that there is a reference to another entity, using a composite ID.</p>
<p>The grouping into a composite reference is based on the semantics of the referring model, as there can be multiple references to the same composite ID.</p>
<p>When pointing to the Property Types of the target Entity Type (<code>referencedPropertyType</code>), we need to define how it maps to the local properties (<code>localPropertyName</code>).</p>
<p>The following example shows how the Entity Type <code>PurchaseOrder</code> has a composite ID reference (consisting of <code>mainSupplierNumber</code> and <code>mainSupplierType</code>) to a <code>BusinessPartner</code> Entity Type.</p>
<p>The composite ID indicates the semantics / grouping of the reference from the <em>referrals</em> perspective, not the reference targets perspective (!).
There can be multiple references that use the same Composite ID but with different semantics.
The <a href="#composite-reference"><code>compositeReferences</code></a> in the example states that the first two composite ID references point to the <code>mainSupplier</code>.
The next composite ID reference points to the same Entity Type and Property Type, but is part of a different composite reference, &quot;Alternative Supplier&quot;.</p>
<p>A property can be potentially part of several composite references.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:PurchaseOrder&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">compositeReferences</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//one composite reference</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Main Supplier&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:BusinessPartner&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerNumber&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;mainSupplierNumber&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerType&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;mainSupplierType&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// This demonstrates why the composite reference is necessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// and is defined with the semantics from the referencing side.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Alternative Supplier&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:BusinessPartner&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerNumber&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;alternativeSupplierNumber&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:BusinessPartnerType&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;alternativeSupplierType&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">PurchaseOrder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">Plant</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">mainSupplierNumber</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Integer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">mainSupplierType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">alternativeSupplierNumber</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Integer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">alternativeSupplierType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-cases">Advanced Cases<a href="#advanced-cases" class="hash-link" aria-label="Direct link to Advanced Cases" title="Direct link to Advanced Cases">​</a></h3>
<p>All the annotations in this section are <strong>optional</strong> for providers and consumers to implement or understand.</p>
<p>As a consequence:</p>
<ul>
<li>All advanced functionality MUST be purely &quot;opt-in&quot; and must not break consumers that do not support it</li>
<li>If references or IDs need special understanding, we cannot use the standard annotations but need to move to specialized annotations.</li>
<li>If a consumer does not understand special-case IDs or References, they may therefore treat them as arbitrary properties.</li>
<li>We may also propose alternative approaches, so special handling attributes can be avoided.</li>
</ul>
<blockquote>
<p>⚠ In general, we recommend to not rely on advanced features if avoidable. If possible, we give guidance how to avoid special handling.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-dependent-references">Time Dependent References<a href="#time-dependent-references" class="hash-link" aria-label="Direct link to Time Dependent References" title="Direct link to Time Dependent References">​</a></h4>
<p>There can be references which include a time / date component, where the targeted entity type may return different values / state, depending on time.
As a consequence it&#x27;s important for references to indicate which state in time they refer to.</p>
<p>This situation can be handled with the existing concepts as composite IDs.</p>
<p>In the example below, we have a Cost Center, where its instance data defines a validity range for the values through <code>ValidityStartDate</code> and <code>ValidityEndDate</code>.
For the Composite ID, we however need the <code>sap.vdm.gfn:ControllingArea</code> and <code>sap.vdm.gfn:CostCenter</code> Property Types plus a &quot;virtual&quot; property <code>KeyDate</code> that only exists on the API Model.
Those three together can be used to create a unique reference that also states the point in time.</p>
<blockquote>
<p>🔗 There is also an <a href="https://docs.oasis-open.org/odata/odata-temporal-ext/v4.0/cs01/odata-temporal-ext-v4.0-cs01.html" target="_blank" rel="noopener noreferrer">OData Extension for Temporal Data</a>.</p>
</blockquote>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;ID for Point in Time&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:ControllingArea&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:CostCenter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:KeyDate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Time-independent ID (not unique)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:ControllingArea&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:CostCenter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">CostCenter</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ControllingArea&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ControllingArea</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// ControllingArea is also a reference to entity ControllingArea, but this is not shown here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">CostCenter</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:KeyDate&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">KeyDate</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// This is a virtual property, only there in an API model to indicate the point in time for the reference.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ValidityStartDate</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Not an ID, but can be set with create / update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ValidityEndDate</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example how this is used in a time dependent reference from <code>SalesOrder</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:SalesOrder&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">compositeReferences</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Time Dependent Reference to CostCenter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ControllingArea&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;ControllingArea&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostCenter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:KeyDate&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;SalesOrderDate&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">SalesOrder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ControllingArea</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">CostCenter</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">SalesOrderDate</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="special-support-for-more-involved-temporal-references">Special Support for more involved Temporal References<a href="#special-support-for-more-involved-temporal-references" class="hash-link" aria-label="Direct link to Special Support for more involved Temporal References" title="Direct link to Special Support for more involved Temporal References">​</a></h4>
<p>For more complex scenarios, we need to understand the nature of temporal data along with the references.
In the example below, the <code>ValidityStartDate</code> and <code>ValidityEndDate</code> need to be understood, as the client has to do a more complex query with filter conditions to get the data at a specific time.
That&#x27;s because there is no convenience &quot;key date&quot; or &quot;$at&quot; property in the data / API model that can be used for a more simple composite ID reference lookup.</p>
<p>Temporal IDs can be explicitly described via <code>@EntityRelationship.temporalIds</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">temporalIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// all temporal IDs at a central place</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;temporalId&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">propertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:ControllingArea&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sap.vdm.gfn:CostCenter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// non-temporal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">temporalIntervalType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;CLOSED_CLOSED&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// interval which includes the boundaries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">temporalType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain">  </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;DATE&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// date or date-time interval</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">temporalIntervalStartProperty</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;ValidityStartDate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// not needed by reference, therefore no property-type necessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">temporalIntervalEndProperty</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;ValidityEndDate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">CostCenter</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ControllingArea&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ControllingArea</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// ControllingArea is also a reference to entity ControllingArea, but this is not shown here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  @</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">propertyType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">CostCenter</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ValidityStartDate</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ValidityEndDate</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// ValidityEndDate is not suited for references from foreign entities, do not expose the internal primary key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A temporal ID can be referenced via <code>@EntityRelationship.temporalReferences</code>:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:SalesOrder&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">temporalReferences</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">name</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;Temporal Reference to CostCenter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// reference-specific assignment to property-types, could include constants</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ControllingArea&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;ControllingArea&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostCenter&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;CostCenter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">category</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;temporal-date&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">               </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// reference is to a temporal ID of category date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">selectionDateProperty</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;SalesOrderDate&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// property used to select the right date interval</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">SalesOrder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">ControllingArea</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">CostCenter</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">SalesOrderDate</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// a join or select condition derived from the temporal reference would use an additional condition:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//      AND CostCenter.ValidityStartDate &lt;= SalesOrder.SalesOrderDate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//      AND CostCenter.ValidityEndDate   &gt;= SalesOrder.SalesOrderDate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="references-with-constant-id-values">References with Constant ID Values<a href="#references-with-constant-id-values" class="hash-link" aria-label="Direct link to References with Constant ID Values" title="Direct link to References with Constant ID Values">​</a></h4>
<p>In this special case we have references where some additional IDs need to be set to a constant value to get to a unique ID reference.
It could also be understood as a composite ID where some of the required IDs (that may act as filters) are not available as reference properties, but we know from the metadata that we need to set them to a static value at the target Entity Type.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="solution-a-add-constant-id-values-as-explicit-properties">Solution A: Add constant ID values as explicit properties<a href="#solution-a-add-constant-id-values-as-explicit-properties" class="hash-link" aria-label="Direct link to Solution A: Add constant ID values as explicit properties" title="Direct link to Solution A: Add constant ID values as explicit properties">​</a></h5>
<p>One approach to address this situation is to just introduce the missing constant ID values as new properties in the entity type that holds the reference.
We can define such a value in CSN as <a href="https://cap.cloud.sap/docs/cds/csn#properties-1" target="_blank" rel="noopener noreferrer">value</a>
The advantage is that we have then a regular composite ID reference, which we can handle without creating a new edge-case that needs special support.
The disadvantage is that we have to add new properties and instance data to our APIs.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostingSheet &#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">compositeReferences</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostingSheetProcedure&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostingSheetProcedure&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;costingSheetProcedure&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ConditionUsage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;costingSheetProcedureConditionUsage&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ConditionApplication&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;costingSheetProcedureConditionApplication&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">CostingSheet</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">costingSheetProcedure</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">costingSheetProcedureConditionUsage</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;K&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">costingSheetProcedureConditionApplication</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;KS&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="solution-b-state-constant-id-composite-keys-explicitly">Solution B: State constant ID composite keys explicitly<a href="#solution-b-state-constant-id-composite-keys-explicitly" class="hash-link" aria-label="Direct link to Solution B: State constant ID composite keys explicitly" title="Direct link to Solution B: State constant ID composite keys explicitly">​</a></h5>
<p>Since this is a very special edge-case we did not want to introduce additional complexity to our regular cases.
We also don&#x27;t want consumers who don&#x27;t understand and support constant ID values to accidentally interpret incomplete composite ID references.</p>
<p>As a consequence, we&#x27;ll not use the <code>@EntityRelationship.references</code> annotation, but introduce a dedicated <code>@EntityRelationship.referencesWithConstantIds</code>.
It can describe a reference that includes constant ID values and also may consist of a composite ID of more than one property.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">entityType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostingSheet &#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">@</span><span class="token maybe-class-name">EntityRelationship</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">referencesWithConstantIds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">description</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;optional description&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedEntityType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.sont:CostingSheetProcedure&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyTypes</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:CostingSheetProcedureId&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">localPropertyName</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;costingSheetProcedure&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ConditionUsage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">constantValue</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;K&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">referencedPropertyType</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sap.vdm.gfn:ConditionApplication&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">constantValue</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;KS&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">entity </span><span class="token maybe-class-name">CostingSheet</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token literal-property property" style="color:rgb(128, 203, 196)">costingSheetProcedure</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example the <code>costingSheetProcedure</code> property links to a <code>sap.vdm.gfn:CostingSheetProcedureId</code> Property Type, but by that alone the ID reference is not complete.
In the target, there are three Property Types that form a unique composite ID together.
The Property Types <code>sap.vdm.gfn:ConditionUsage</code> and <code>sap.vdm.gfn:ConditionApplication</code> are missing.
Since they always need to be set to a specific static value, we can indicate this on metadata level with <code>constantValue</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="concatenated-ids-or-references">Concatenated IDs or References<a href="#concatenated-ids-or-references" class="hash-link" aria-label="Direct link to Concatenated IDs or References" title="Direct link to Concatenated IDs or References">​</a></h4>
<p>Some composite IDs or references are not available as separate properties, but concatenated together into a single string.</p>
<p>We recommend two approaches:</p>
<ul>
<li>Treat it as a dedicated (opaque) ID with its own Property Type, which may be used as any other ID without understanding (and parsing) its inner structure.</li>
<li>Alternatively, split a concatenated ID / Reference into separate properties with their own Property Type. This can then be handled as regular composite IDs and references.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SAP/csn-interop-specification/tree/main/docs/spec-v1/extensions/entity-relationship.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/csn-interop-specification/spec-v1/extensions/end-user-text"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">@EndUserText</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/csn-interop-specification/spec-v1/extensions/object-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">@ObjectModel</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#schema-definitions" class="table-of-contents__link toc-highlight">Schema Definitions</a><ul><li><a href="#annotations-overview" class="table-of-contents__link toc-highlight">Annotations Overview</a></li><li><a href="#entityrelationshipentitytype" class="table-of-contents__link toc-highlight">@EntityRelationship.entityType</a></li><li><a href="#entityrelationshippropertytype" class="table-of-contents__link toc-highlight">@EntityRelationship.propertyType</a></li><li><a href="#entityrelationshipentityids" class="table-of-contents__link toc-highlight">@EntityRelationship.entityIds</a></li><li><a href="#entityrelationshipreference" class="table-of-contents__link toc-highlight">@EntityRelationship.reference</a></li><li><a href="#entityrelationshipcompositereferences" class="table-of-contents__link toc-highlight">@EntityRelationship.compositeReferences</a></li><li><a href="#entityrelationshiptemporalids" class="table-of-contents__link toc-highlight">@EntityRelationship.temporalIds</a></li><li><a href="#entityrelationshiptemporalreferences" class="table-of-contents__link toc-highlight">@EntityRelationship.temporalReferences</a></li><li><a href="#entityrelationshipreferenceswithconstantids" class="table-of-contents__link toc-highlight">@EntityRelationship.referencesWithConstantIds</a></li><li><a href="#reference-target" class="table-of-contents__link toc-highlight">Reference Target</a></li><li><a href="#entity-id" class="table-of-contents__link toc-highlight">Entity ID</a></li><li><a href="#composite-reference" class="table-of-contents__link toc-highlight">Composite Reference</a></li><li><a href="#referenced-property-type" class="table-of-contents__link toc-highlight">Referenced Property Type</a></li><li><a href="#temporal-id" class="table-of-contents__link toc-highlight">Temporal ID</a></li><li><a href="#temporal-reference" class="table-of-contents__link toc-highlight">Temporal Reference</a></li><li><a href="#reference-with-constant-id" class="table-of-contents__link toc-highlight">Reference with Constant ID</a></li><li><a href="#referenced-property-type-with-constant-id" class="table-of-contents__link toc-highlight">Referenced Property Type with Constant ID</a></li><li><a href="#property-type-id" class="table-of-contents__link toc-highlight">Property Type ID</a></li><li><a href="#entity-type-id" class="table-of-contents__link toc-highlight">Entity Type ID</a></li><li><a href="#local-property-name" class="table-of-contents__link toc-highlight">Local Property Name</a></li></ul></li><li><a href="#complete-examples" class="table-of-contents__link toc-highlight">Complete Examples</a></li><li><a href="#concept-explanation" class="table-of-contents__link toc-highlight">Concept Explanation</a><ul><li><a href="#problem-statement" class="table-of-contents__link toc-highlight">Problem Statement</a></li><li><a href="#out-of-scope" class="table-of-contents__link toc-highlight">Out of Scope</a></li><li><a href="#glossary" class="table-of-contents__link toc-highlight">Glossary</a></li><li><a href="#id-concepts" class="table-of-contents__link toc-highlight">ID Concepts</a></li><li><a href="#standard-use-cases" class="table-of-contents__link toc-highlight">Standard Use Cases</a></li><li><a href="#advanced-cases" class="table-of-contents__link toc-highlight">Advanced Cases</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://github.com/SAP/csn-interop-specification" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repository</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 SAP SE. Made available under Apache License 2.0.

 This site is hosted by GitHub Pages. Please see the GitHub Privacy Statement for any information how GitHub processes your personal data.</div></div></div></footer></div>
</body>
</html>