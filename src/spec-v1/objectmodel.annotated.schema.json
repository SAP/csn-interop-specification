{
  "description": "JSON Schema with custom (x-) annotations",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ObjectModel",
  "x-extension": {
    "targetDocument": "./spec/v1/CSN-Interop-Effective.schema.yaml",
    "targetLink": "../spec-v1/csn-interop-effective"
  },
  "definitions": {
    "@ObjectModel.compositionRoot": {
      "type": "boolean",
      "default": true,
      "description": "Entity is the root of a compositional hierarchy.",
      "x-extension-targets": [
        "Entity"
      ],
      "title": "@ObjectModel.compositionRoot",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.compositionRoot"
      ]
    },
    "@ObjectModel.representativeKey": {
      "description": "In case of multiple key elements: key element which represents the entity (in the sense that the entity itself is the list of values for this key element)",
      "x-extension-targets": [
        "Entity",
        "Service"
      ],
      "x-ref-to-doc": {
        "title": "Element Reference",
        "ref": "#/definitions/ElementReference"
      },
      "title": "@ObjectModel.representativeKey",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.representativeKey"
      ],
      "$ref": "#/definitions/ElementReference"
    },
    "@ObjectModel.semanticKey": {
      "type": "array",
      "description": "The property contains element(s) which shall be used to display the key in UIs (instead of the technical key).",
      "x-extension-targets": [
        "Type"
      ],
      "items": {
        "x-ref-to-doc": {
          "title": "Element Reference",
          "ref": "#/definitions/ElementReference"
        }
      },
      "title": "@ObjectModel.semanticKey",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.semanticKey"
      ]
    },
    "@ObjectModel.modelingPattern": {
      "type": "object",
      "description": "The property declares the modeling pattern applied in this entity definition.",
      "x-extension-targets": [
        "Entity",
        "Service"
      ],
      "properties": {
        "#": {
          "type": "string",
          "description": "Provide the value in `{ \"#\": \"<value>\" }` enum notation.",
          "enum": [
            "DATA_STRUCTURE",
            "LANGUAGE_DEPENDENT_TEXT",
            "UNIT_CONVERSION_RATE",
            "VALUE_HELP_PROVIDER",
            "COLLECTIVE_VALUE_HELP",
            "DERIVATION_FUNCTION",
            "PARENT_CHILD_HIERARCHY_NODE_PROVIDER",
            "ENTERPRISE_SEARCH_PROVIDER",
            "TRANSACTIONAL_INTERFACE",
            "TRANSACTIONAL_QUERY",
            "ANALYTICAL_QUERY",
            "ANALYTICAL_DOCUMENT_STORE",
            "ANALYTICAL_CUBE",
            "ANALYTICAL_DIMENSION",
            "ANALYTICAL_FACT",
            "ANALYTICAL_PARENT_CHILD_HIERARCHY_NODE",
            "ANALYTICAL_KPI",
            "OUTPUT_FORM_DATA_PROVIDER",
            "OUTPUT_EMAIL_DATA_PROVIDER",
            "OUTPUT_PARAMETER_DETERMINATION_DATA_SOURCE",
            "SITUATION_ANCHOR",
            "SITUATION_TRIGGER",
            "SITUATION_DATACONTEXT",
            "EXTERNAL_DATA_PROVIDER",
            "NONE"
          ],
          "x-context": [
            "./spec/annotations/object-model.yaml",
            "@ObjectModel.modelingPattern",
            "#"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "#"
      ],
      "examples": [
        {
          "#": "DATA_STRUCTURE"
        }
      ],
      "title": "@ObjectModel.modelingPattern",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.modelingPattern"
      ]
    },
    "@ObjectModel.supportedCapabilities": {
      "type": "array",
      "description": "The property declares the supported usage type for this entity in the context of consuming data models.",
      "x-extension-targets": [
        "Entity",
        "Service"
      ],
      "items": {
        "$ref": "#/definitions/@ObjectModel.SupportedCapabilities_EnumValue"
      },
      "title": "@ObjectModel.supportedCapabilities",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.supportedCapabilities"
      ]
    },
    "@ObjectModel.foreignKey.association": {
      "description": "The element is of type `cds.Association` which points to the list of values. \n\nUse only for service internal associations. For cross service associations, use the [@EntityRelationship Vocabulary](./entity-relationship) instead.",
      "x-extension-targets": [
        "Type"
      ],
      "x-ref-to-doc": {
        "title": "Element Reference",
        "ref": "#/definitions/ElementReference"
      },
      "title": "@ObjectModel.foreignKey.association",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.foreignKey.association"
      ],
      "$ref": "#/definitions/ElementReference"
    },
    "@ObjectModel.text.element": {
      "type": "array",
      "description": "The property contains element(s) containing a text for the annotated (id)element",
      "x-extension-targets": [
        "Type"
      ],
      "items": {
        "x-ref-to-doc": {
          "title": "Element Reference",
          "ref": "#/definitions/ElementReference"
        }
      },
      "examples": [
        [
          "BillingDocumentTypeName"
        ]
      ],
      "title": "@ObjectModel.text.element",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.text.element"
      ]
    },
    "@ObjectModel.text.association": {
      "description": "The element is of type cds.association, which points to an entity containing (language-dependent) texts for the annotated (id) element",
      "x-extension-targets": [
        "Type"
      ],
      "x-ref-to-doc": {
        "title": "Element Reference",
        "ref": "#/definitions/ElementReference"
      },
      "title": "@ObjectModel.text.association",
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.text.association"
      ],
      "$ref": "#/definitions/ElementReference"
    },
    "@ObjectModel.SupportedCapabilities_EnumValue": {
      "title": "Supported Capabilities Enum Value",
      "type": "object",
      "properties": {
        "#": {
          "type": "string",
          "description": "The entry declares one supported usage type.",
          "enum": [
            "SQL_DATA_SOURCE",
            "CDS_MODELING_DATA_SOURCE",
            "CDS_MODELING_ASSOCIATION_TARGET",
            "DATA_STRUCTURE",
            "LANGUAGE_DEPENDENT_TEXT",
            "UNIT_CONVERSION_RATE",
            "VALUE_HELP_PROVIDER",
            "COLLECTIVE_VALUE_HELP",
            "EXTRACTION_DATA_SOURCE",
            "DERIVATION_FUNCTION",
            "PARENT_CHILD_HIERARCHY_NODE_PROVIDER",
            "SEARCHABLE_ENTITY",
            "ENTERPRISE_SEARCH_PROVIDER",
            "TRANSACTIONAL_PROVIDER",
            "ANALYTICAL_QUERY",
            "ANALYTICAL_DOCUMENT_STORE",
            "ANALYTICAL_DIMENSION",
            "ANALYTICAL_PROVIDER",
            "ANALYTICAL_PARENT_CHILD_HIERARCHY_NODE",
            "ANALYTICAL_KPI",
            "OUTPUT_FORM_DATA_PROVIDER",
            "OUTPUT_EMAIL_DATA_PROVIDER",
            "OUTPUT_PARAMETER_DETERMINATION_DATA_SOURCE",
            "SITUATION_ANCHOR",
            "SITUATION_TRIGGER",
            "SITUATION_DATACONTEXT",
            "KEY_USER_COPYING_TEMPLATE",
            "EXTERNAL_DATA_PROVIDER",
            "ODM_COMPLIANT_PROVIDER"
          ],
          "x-context": [
            "./spec/annotations/object-model.yaml",
            "@ObjectModel.SupportedCapabilities_EnumValue",
            "#"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "#"
      ],
      "x-context": [
        "./spec/annotations/object-model.yaml",
        "@ObjectModel.SupportedCapabilities_EnumValue"
      ]
    }
  },
  "x-context": [
    "./spec/annotations/object-model.yaml"
  ]
}